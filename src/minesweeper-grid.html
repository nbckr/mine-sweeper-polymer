<link rel="import" href="../bower_components/polymer/polymer.html"/>
<link rel="import" href="minesweeper-cell.html"/>

<dom-module id="minesweeper-grid">

    <style>
        :host {
            display: block;
        }

        .row {
            display: block;
        / / background-color: green;
        }
    </style>

    <template>
        <template is="dom-repeat" as="row" items="{{gamedata.grid}}">

            <div class="row">
                <template is="dom-repeat" as="cell" items="{{row}}">
                    <minesweeper-cell cell="{{cell}}" state="{{gamedata.state}}" class="cell"></minesweeper-cell>
                </template>
            </div>

        </template>
    </template>

    <script>
        Polymer({

            is: 'minesweeper-grid',

            properties: {
                gamedata: {
                    type: Object,
                    notify: true
                }
            },

            _handleOpenModal: function () {
                var cells = Polymer.dom(this.root).querySelectorAll('minesweeper-cell');
                for (var i = 0, len = cells.length; i < len; i++) {
                    cells[i]._handleOpenModal();
                }
            }
        });
    </script>

</dom-module>
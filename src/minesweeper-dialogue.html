<link rel="import" href="../bower_components/polymer/polymer.html"/>
<link rel="import" href="../bower_components/iron-overlay-behavior/iron-overlay-behavior.html"/>
<link rel="import" href="../bower_components/paper-button/paper-button.html"/>
<link rel="import" href="../bower_components/paper-radio-button/paper-radio-button.html"/>
<link rel="import" href="../bower_components/paper-radio-group/paper-radio-group.html"/>

<dom-module id="minesweeper-dialogue">
    <template>
        <style>
            :host {
            / / display: flex;
            / / justify-content: center;
            / / align-items: flex-start;

                background: white;
                color: black;
                padding: 24px;
                box-shadow: rgba(0, 0, 0, 0.24) -2px 5px 12px 0px, rgba(0, 0, 0, 0.12) 0px 0px 12px 0px;
            }

            img {
                width: 100px;
            }

            h3, p {
                margin-top: 0;
            }

            label, img, small {
                display: block;
                text-align: center;
                margin: 3px
            }
        </style>

        <form>
            <h3>Choose grid size</h3>
            <p>How'd you like your grid today? Feeling like a giant?</p>

            <paper-radio-group selected="medium" id="size">
                <paper-radio-button name="small">
                    <div>
                        <img src="/images/small.svg" alt="small">
                        <small>Small</small>
                    </div>
                </paper-radio-button>
                <paper-radio-button name="medium">
                    <div>
                        <img src="/images/medium.svg" alt="medium">
                        <small>Medium</small>
                    </div>
                </paper-radio-button>
                <paper-radio-button name="large">
                    <div>
                        <img src="/images/large.svg" alt="large">
                        <small>Large</small>
                    </div>
                </paper-radio-button>
            </paper-radio-group>

            <h3>Choose difficulty</h3>
            <p>How many mines? Don't be a baby, show off your mad skillz!</p>

            <paper-radio-group selected="intermediate" id="difficulty">
                <paper-radio-button name="beginner">
                    <div>
                        <img src="/images/beginner.svg" alt="beginner">
                        <small>Beginner</small>
                    </div>
                </paper-radio-button>
                <paper-radio-button name="intermediate">
                    <div>
                        <img src="/images/intermediate.svg" alt="intermediate">
                        <small>Intermediate</small>
                    </div>
                </paper-radio-button>
                <paper-radio-button name="expert">
                    <div>
                        <img src="/images/expert.svg" alt="expert">
                        <small>Expert</small>
                    </div>
                </paper-radio-button>
            </paper-radio-group>
        </form>

        <paper-button dialog-confirm autofocus on-click="close" raised class="custom indigo">Actually, no.
        </paper-button>
        <paper-button dialog-confirm on-click="_handleStartButton" raised class="custom indigo">Oh boy, let's go!
        </paper-button>

    </template>

</dom-module>

<script>
    (function () {
        Polymer({

            is: 'minesweeper-dialogue',

            behaviors: [
                Polymer.IronOverlayBehavior
            ],

            _handleStartButton: function () {
                var size = this.$.size.selected;
                var difficulty = this.$.difficulty.selected;
                this.fire('websocket-send', {
                    action: 'start',
                    size: size,
                    difficulty: difficulty
                });
                this.close();
            }
        });
    })();
</script>